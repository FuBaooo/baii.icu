---
title: 升级架构和迭代工具库
date: 2023-06-16 18:00:00
lang: zh-CN
duration: 6min
description: 升级架构和迭代工具库
---

[[toc]]

## 需求背景
在公司整体前端技术架构和项目落后技术升级迭代的时候，急需引入和升级现有项目加速开发效率和开发体验。

## 遇到的问题
1. Vue2 TLS
2. 构建工具效率
3. 重复轮子

## 思考方案

### Vue2 TLS
这个问题其实很好解决，升级 Vue3 就完事了<br/>
但是实际上没有那么简单，需要考虑的东西太多了，比如：

- 组件库兼容
- 路由兼容
- 状态管理兼容
- vue2/vue3 兼容

整体需要考虑的兼容问题实在太多了，最后决定使用 iframe 和 MicroApp 的方式来解决这个问题。<br/>
整体将 vue2 的代码形成一个 monorepo 的子项目，然后使用 iframe 和 MicroApp 接管<br/>

但是在实际的应用过程中发现了一些小问题，比如：
- 蹭依赖
- 开发规范
- 开发效率
